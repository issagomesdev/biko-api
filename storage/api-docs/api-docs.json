{
    "openapi": "3.0.0",
    "info": {
        "title": "BIKO API",
        "description": "API para gerenciamento de usuários, categorias e publicações",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000/api",
            "description": "Servidor da API"
        },
        {
            "url": "/api"
        }
    ],
    "paths": {
        "/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Cadastrar novo usuário",
                "description": "Cria um novo usuário e retorna token de autenticação",
                "operationId": "5d4fa5d5607ed675ba93907e1fc94534",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "username",
                                    "email",
                                    "password",
                                    "city_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Fulano de tal"
                                    },
                                    "username": {
                                        "description": "Apenas letras, números, ponto e underscore",
                                        "type": "string",
                                        "example": "fulano.tal"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "fulano@email.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "(11) 99999-1234"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "12345678"
                                    },
                                    "city_id": {
                                        "description": "ID da cidade (cities.id)",
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "categories": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            2,
                                            3
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cadastro realizado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "properties": {
                                                "token": {
                                                    "type": "string"
                                                },
                                                "data": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erro de validação"
                    }
                }
            }
        },
        "/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Autenticar usuário",
                "description": "Realiza login e retorna token de autenticação",
                "operationId": "67d6d0fdd54fba132e1b6f55ca254183",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "fulano@email.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "12345678"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login realizado com sucesso"
                    },
                    "401": {
                        "description": "Credenciais inválidas"
                    }
                }
            }
        },
        "/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout do usuário autenticado",
                "description": "Invalida o token atual do usuário",
                "operationId": "28d48c13fca984400ac8de99f54ee13a",
                "responses": {
                    "200": {
                        "description": "Logout realizado com sucesso"
                    },
                    "401": {
                        "description": "Não autenticado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/categories": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Listar categorias",
                "description": "Retorna a lista de categorias de serviços disponíveis",
                "operationId": "b1b247b2b491b0491c3c728dc33f23f0",
                "responses": {
                    "200": {
                        "description": "Categorias listadas com sucesso"
                    }
                }
            }
        },
        "/categories/{category}": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Detalhar categoria pelo slug",
                "description": "Retorna os dados de uma categoria específica usando o slug.",
                "operationId": "f9287689f645443ba435d93df47f30ab",
                "parameters": [
                    {
                        "name": "category",
                        "in": "path",
                        "description": "Slug da categoria",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "eletricista"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Categoria encontrada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Category"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Categoria não encontrada"
                    }
                }
            }
        },
        "/conversations": {
            "get": {
                "tags": [
                    "Chat"
                ],
                "summary": "Listar conversas do usuário autenticado",
                "operationId": "8ed34951b4503c42168a03505d3893c8",
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de conversas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Conversation"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/conversations/{user}": {
            "post": {
                "tags": [
                    "Chat"
                ],
                "summary": "Iniciar ou obter conversa com um usuário",
                "operationId": "42ec4574ddfa6df224e62a528c0a412c",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Conversa obtida/criada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado a iniciar conversa com este usuário"
                    },
                    "404": {
                        "description": "Usuário não encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/conversations/{conversation}": {
            "get": {
                "tags": [
                    "Chat"
                ],
                "summary": "Ver mensagens de uma conversa",
                "operationId": "3a1950bf32a27c64a92e6e0eed4ad890",
                "parameters": [
                    {
                        "name": "conversation",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 50
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mensagens da conversa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Message"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "404": {
                        "description": "Conversa não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/conversations/{conversation}/messages": {
            "post": {
                "tags": [
                    "Chat"
                ],
                "summary": "Enviar mensagem em uma conversa",
                "operationId": "ce364c5f018a6d27f851f751fb6d0441",
                "parameters": [
                    {
                        "name": "conversation",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "body"
                                ],
                                "properties": {
                                    "body": {
                                        "type": "string",
                                        "example": "Olá, tudo bem?"
                                    },
                                    "reply_to_id": {
                                        "description": "ID da mensagem sendo respondida",
                                        "type": "integer",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mensagem enviada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/conversations/{conversation}/read": {
            "post": {
                "tags": [
                    "Chat"
                ],
                "summary": "Marcar mensagens da conversa como lidas",
                "operationId": "57054c95aae37b05a692cb6117e748c4",
                "parameters": [
                    {
                        "name": "conversation",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mensagens marcadas como lidas"
                    },
                    "403": {
                        "description": "Não autorizado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/messages/{message}": {
            "delete": {
                "tags": [
                    "Chat"
                ],
                "summary": "Deletar mensagem",
                "operationId": "8e2666d2eaba34e101519f6a0d42d83a",
                "parameters": [
                    {
                        "name": "message",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mensagem deletada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "404": {
                        "description": "Mensagem não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/collections": {
            "get": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Listar coleções do usuário autenticado",
                "operationId": "d4df76267f6c624eb9f318b4e6e0f312",
                "responses": {
                    "200": {
                        "description": "Lista de coleções",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Collection"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Criar coleção",
                "operationId": "e14763de4129762a96fd54451189b049",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Eletricistas"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Coleção criada com sucesso"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/collections/{collection}": {
            "get": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Exibir coleção com publicações",
                "operationId": "53eb5876f82ae6d63b50ede5620f99e6",
                "parameters": [
                    {
                        "name": "collection",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Coleção encontrada"
                    },
                    "404": {
                        "description": "Coleção não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Renomear coleção",
                "operationId": "9d51d8672715bd32c0232c1455fcbb37",
                "parameters": [
                    {
                        "name": "collection",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Favoritos"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Coleção atualizada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado (coleção padrão não pode ser renomeada)"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Deletar coleção",
                "operationId": "466d29c63d3de005fe2ea36d32bd6b3b",
                "parameters": [
                    {
                        "name": "collection",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Coleção deletada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado (coleção padrão não pode ser deletada)"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/collections/{collection}/publications/{publication}": {
            "post": {
                "tags": [
                    "Coleções"
                ],
                "summary": "Salvar/remover publicação da coleção (toggle)",
                "operationId": "b564631f0785893109ee2764315ef871",
                "parameters": [
                    {
                        "name": "collection",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicação salva/removida da coleção"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/notifications": {
            "get": {
                "tags": [
                    "Notificações"
                ],
                "summary": "Listar notificações do usuário autenticado",
                "operationId": "b1274a2aaae8a4295a7e1925e8d8090f",
                "parameters": [
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filtrar por tipo de notificação",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "like",
                                "comment",
                                "follow",
                                "follow_request",
                                "mention",
                                "review",
                                "review_reply",
                                "comment_reply",
                                "message"
                            ]
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de notificações",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Notification"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/notifications/unread-count": {
            "get": {
                "tags": [
                    "Notificações"
                ],
                "summary": "Contagem de notificações não lidas",
                "operationId": "85697ee523a5dace428185c95efb9f2f",
                "responses": {
                    "200": {
                        "description": "Contagem de notificações não lidas por tipo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "like": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "comment": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "follow": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "mention": {
                                                    "type": "integer",
                                                    "example": 2
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/notifications/{notification}/read": {
            "post": {
                "tags": [
                    "Notificações"
                ],
                "summary": "Marcar notificação como lida",
                "operationId": "dd3acda98d7f17cf9d19d7fe13e3a0eb",
                "parameters": [
                    {
                        "name": "notification",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificação marcada como lida"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "404": {
                        "description": "Notificação não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/notifications/read-all": {
            "post": {
                "tags": [
                    "Notificações"
                ],
                "summary": "Marcar todas as notificações como lidas",
                "operationId": "a99413cb37ed54e1e9d9bb78fb52c68d",
                "parameters": [
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Marcar apenas notificações deste tipo",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "like",
                                "comment",
                                "follow",
                                "follow_request",
                                "mention",
                                "review",
                                "review_reply",
                                "comment_reply",
                                "message"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificações marcadas como lidas"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications": {
            "get": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Listar e filtrar publicações",
                "operationId": "1f3de545e28397584eb6544abf44a522",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Pesquisa por texto, tags, categoria, cidade ou estado",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "eletricista São Paulo"
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "enum": [
                                0,
                                1
                            ]
                        },
                        "example": 0
                    },
                    {
                        "name": "categories[]",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer"
                            }
                        },
                        "example": [
                            1,
                            2
                        ]
                    },
                    {
                        "name": "city_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 1
                    },
                    {
                        "name": "tags[]",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "description": "Preset ou data específica (Y-m-d)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "today",
                                "last_24h",
                                "last_7d",
                                "last_30d"
                            ]
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Início do intervalo (Y-m-d)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Fim do intervalo (Y-m-d)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "orderBy",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc",
                                "popular"
                            ]
                        },
                        "example": "desc"
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de publicações",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Publication"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                }
            },
            "post": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Criar publicação",
                "operationId": "94c80d0af54f450681429986276db557",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "text",
                                    "type",
                                    "city_id"
                                ],
                                "properties": {
                                    "text": {
                                        "type": "string",
                                        "example": "Preciso de um eletricista urgente"
                                    },
                                    "type": {
                                        "type": "integer",
                                        "example": 0
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "categories[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3
                                        ]
                                    },
                                    "tags[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "trabalho braçal",
                                            "resultado"
                                        ]
                                    },
                                    "mentions[]": {
                                        "description": "IDs dos usuários mencionados (além dos @username detectados no texto)",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            5
                                        ]
                                    },
                                    "media[]": {
                                        "description": "Fotos e vídeos (máx. 10 arquivos, 50MB cada). Formatos: jpeg, png, gif, webp, mp4, mov, avi, webm",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Publicação criada com sucesso"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/{publication}": {
            "get": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Exibir publicação",
                "operationId": "d27523e1b25c82a01fbfbd2911c7d43d",
                "parameters": [
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicação encontrada"
                    },
                    "404": {
                        "description": "Publicação não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Atualizar publicação (usar _method=PUT)",
                "operationId": "ce3c698179df6ae4fa50a9485ae2fcdc",
                "parameters": [
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "_method"
                                ],
                                "properties": {
                                    "_method": {
                                        "description": "Spoofing de método HTTP",
                                        "type": "string",
                                        "example": "PUT"
                                    },
                                    "text": {
                                        "type": "string",
                                        "example": "Texto atualizado da publicação"
                                    },
                                    "type": {
                                        "type": "integer",
                                        "example": 0
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "categories[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3
                                        ]
                                    },
                                    "tags[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "urgente"
                                        ]
                                    },
                                    "mentions[]": {
                                        "description": "IDs dos usuários mencionados (além dos @username detectados no texto)",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            5
                                        ]
                                    },
                                    "media[]": {
                                        "description": "Novas fotos/vídeos para adicionar (máx. 50MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "remove_media[]": {
                                        "description": "IDs das mídias a remover",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Publicação atualizada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Deletar publicação",
                "operationId": "fe992708cf6922b14922fce609b88824",
                "parameters": [
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publicação deletada com sucesso"
                    },
                    "404": {
                        "description": "Publicação não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/like/{publication}": {
            "post": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Curtir/descurtir publicação",
                "operationId": "8f9ddcde94fb39fffc87408aae1d5c08",
                "parameters": [
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Like alterado com sucesso"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/comment/{publication}": {
            "post": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Comentar publicação",
                "operationId": "2364100a3fc01d7121f04d77780787e8",
                "parameters": [
                    {
                        "name": "publication",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "comment"
                                ],
                                "properties": {
                                    "comment": {
                                        "type": "string",
                                        "example": "Ótimo serviço!"
                                    },
                                    "parent_id": {
                                        "description": "ID do comentário pai (para replies)",
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "media[]": {
                                        "description": "Fotos e vídeos (máx. 5 arquivos, 50MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Comentário adicionado"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/publications/comment/{comment}": {
            "delete": {
                "tags": [
                    "Publicações"
                ],
                "summary": "Deletar comentário",
                "operationId": "c4d517bb6eb704e1b47f109f4757a4da",
                "parameters": [
                    {
                        "name": "comment",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Comentário deletado com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "404": {
                        "description": "Comentário não encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/{user}/reviews": {
            "get": {
                "tags": [
                    "Avaliações"
                ],
                "summary": "Listar avaliações de um usuário",
                "operationId": "321db87dd680969d959e19b51700a760",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de avaliações",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Review"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Perfil privado — apenas seguidores podem ver avaliações"
                    },
                    "404": {
                        "description": "Usuário não encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Avaliações"
                ],
                "summary": "Criar avaliação para um usuário",
                "operationId": "d4d1bf6fda3d52be6b66fce505ed84d4",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "stars",
                                    "comment"
                                ],
                                "properties": {
                                    "stars": {
                                        "description": "1 a 5 estrelas",
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "comment": {
                                        "type": "string",
                                        "example": "Excelente profissional!"
                                    },
                                    "media[]": {
                                        "description": "Fotos e vídeos (máx. 5 arquivos, 50MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Avaliação criada com sucesso"
                    },
                    "403": {
                        "description": "Perfil privado — apenas seguidores podem avaliar"
                    },
                    "409": {
                        "description": "Você já avaliou este usuário"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reviews/{review}/reply": {
            "post": {
                "tags": [
                    "Avaliações"
                ],
                "summary": "Responder a uma avaliação",
                "operationId": "fb5167e3efbf407dc94367acb9de4d40",
                "parameters": [
                    {
                        "name": "review",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "comment"
                                ],
                                "properties": {
                                    "comment": {
                                        "type": "string",
                                        "example": "Obrigado pela avaliação!"
                                    },
                                    "media[]": {
                                        "description": "Fotos e vídeos (máx. 5 arquivos, 50MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Resposta criada com sucesso"
                    },
                    "404": {
                        "description": "Avaliação não encontrada"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reviews/{review}": {
            "post": {
                "tags": [
                    "Avaliações"
                ],
                "summary": "Editar avaliação ou resposta (usar _method=PUT)",
                "operationId": "a6db13b2867afe6bf67f8eadf4a93739",
                "parameters": [
                    {
                        "name": "review",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "_method"
                                ],
                                "properties": {
                                    "_method": {
                                        "description": "Spoofing de método HTTP",
                                        "type": "string",
                                        "example": "PUT"
                                    },
                                    "stars": {
                                        "description": "1 a 5 estrelas (apenas avaliações raiz)",
                                        "type": "integer",
                                        "example": 4
                                    },
                                    "comment": {
                                        "type": "string",
                                        "example": "Atualizando minha avaliação"
                                    },
                                    "media[]": {
                                        "description": "Novas mídias (máx. 5 no total, 50MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "remove_media[]": {
                                        "description": "IDs das mídias a remover",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Avaliação atualizada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Avaliações"
                ],
                "summary": "Deletar avaliação ou resposta",
                "operationId": "f3c86d7c68d0b4446d96a11d54204a1c",
                "parameters": [
                    {
                        "name": "review",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Avaliação deletada com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "404": {
                        "description": "Avaliação não encontrada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users": {
            "get": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Listar e filtrar usuários",
                "operationId": "7208c29037df2b8bb02499ba39ed8a78",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Pesquisa por nome, categoria, cidade ou estado",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "eletricista São Paulo"
                    },
                    {
                        "name": "categories[]",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer"
                            }
                        },
                        "example": [
                            1,
                            2
                        ]
                    },
                    {
                        "name": "city_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 1
                    },
                    {
                        "name": "orderBy",
                        "in": "query",
                        "description": "Ordenação: popular (mais seguidores, padrão), desc (mais recentes), asc (mais antigos)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "popular",
                                "desc",
                                "asc"
                            ]
                        },
                        "example": "popular"
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de usuários",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/{user}": {
            "get": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Exibir usuário",
                "operationId": "a8a7a1f979a2abb839b4b320238106fc",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuário encontrado"
                    },
                    "404": {
                        "description": "Usuário não encontrado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Atualizar usuário (usar _method=PUT)",
                "operationId": "bbef8ad409ec475d15a8898bf02b1657",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "_method"
                                ],
                                "properties": {
                                    "_method": {
                                        "description": "Spoofing de método HTTP",
                                        "type": "string",
                                        "example": "PUT"
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "João da Silva"
                                    },
                                    "username": {
                                        "description": "Apenas letras, números, ponto e underscore",
                                        "type": "string",
                                        "example": "joao.silva"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "joao@email.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "(11) 99999-1234"
                                    },
                                    "description": {
                                        "description": "Bio do usuário (máx. 200 caracteres)",
                                        "type": "string",
                                        "example": "Eletricista profissional com 10 anos de experiência"
                                    },
                                    "is_private": {
                                        "description": "Perfil privado (seguidores precisam de aprovação)",
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "categories[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            3
                                        ]
                                    },
                                    "avatar": {
                                        "description": "Foto de perfil (máx. 5MB). Formatos: jpeg, png, gif, webp",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "cover": {
                                        "description": "Foto de capa (máx. 10MB). Formatos: jpeg, png, gif, webp",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "remove_avatar": {
                                        "description": "Remover foto de perfil atual",
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "remove_cover": {
                                        "description": "Remover foto de capa atual",
                                        "type": "boolean",
                                        "example": false
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuário atualizado com sucesso"
                    },
                    "403": {
                        "description": "Não autorizado"
                    },
                    "422": {
                        "description": "Dados inválidos"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/auth": {
            "get": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Retornar usuário autenticado",
                "operationId": "eb1a6fa926b21a4957b5b8a89c89d708",
                "responses": {
                    "200": {
                        "description": "Usuário autenticado"
                    },
                    "401": {
                        "description": "Não autenticado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/follow/{user}": {
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Seguir/deixar de seguir usuário",
                "operationId": "972ce760d7c9c0d674563798bc1b9c98",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Follow alterado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "followed",
                                                        "unfollowed",
                                                        "requested",
                                                        "cancelled"
                                                    ],
                                                    "example": "followed"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/pending-followers": {
            "get": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Listar solicitações de follow pendentes",
                "operationId": "689e4d779c650bfc84ea44dc223df1c6",
                "responses": {
                    "200": {
                        "description": "Lista paginada de solicitações pendentes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/accept-follower/{user}": {
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Aceitar solicitação de follow",
                "operationId": "eb77099ca90618e1f65d9dc0fec14a35",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID do usuário solicitante",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Solicitação aceita"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/reject-follower/{user}": {
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Rejeitar solicitação de follow",
                "operationId": "e94cfa492c9183d91f2e76f28c2d6702",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID do usuário solicitante",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Solicitação rejeitada"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/block/{user}": {
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Bloquear usuário",
                "operationId": "e7403a68afa76eb4415aeb3bd01d5398",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuário bloqueado"
                    },
                    "422": {
                        "description": "Não pode bloquear a si mesmo"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/unblock/{user}": {
            "post": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Desbloquear usuário",
                "operationId": "4b76f6f6ab2932e6ff29ba5e568ced2f",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuário desbloqueado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/blocked": {
            "get": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Listar usuários bloqueados",
                "operationId": "9e720fed89fc866c4e33ea1140b14657",
                "responses": {
                    "200": {
                        "description": "Lista paginada de usuários bloqueados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/delete-account": {
            "delete": {
                "tags": [
                    "Usuários"
                ],
                "summary": "Excluir conta do usuário autenticado (soft delete, recuperável em até 60 dias)",
                "operationId": "4b97c80425fa9cdafff1f376f35a0a4f",
                "responses": {
                    "200": {
                        "description": "Conta excluída com sucesso"
                    },
                    "401": {
                        "description": "Não autenticado"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Category": {
                "title": "Category",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Eletricista"
                    },
                    "slug": {
                        "type": "string",
                        "example": "eletricista"
                    }
                },
                "type": "object"
            },
            "UserImage": {
                "title": "UserImage",
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "http://localhost/storage/1/avatar.jpg"
                    },
                    "thumb_url": {
                        "type": "string",
                        "example": "http://localhost/storage/1/conversions/avatar-thumb.jpg",
                        "nullable": true
                    }
                },
                "type": "object",
                "nullable": true
            },
            "User": {
                "title": "User",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Hayssa Gomes"
                    },
                    "username": {
                        "type": "string",
                        "example": "hayssa.gomes"
                    },
                    "description": {
                        "type": "string",
                        "maxLength": 200,
                        "example": "Eletricista profissional com 10 anos de experiência",
                        "nullable": true
                    },
                    "is_private": {
                        "type": "boolean",
                        "example": false
                    },
                    "avatar": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserImage"
                            }
                        ],
                        "nullable": true
                    },
                    "cover": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserImage"
                            }
                        ],
                        "nullable": true
                    },
                    "followers_count": {
                        "type": "integer",
                        "example": 12
                    },
                    "following_count": {
                        "type": "integer",
                        "example": 8
                    },
                    "average_rating": {
                        "description": "Média de estrelas (sempre visível, mesmo em perfis privados)",
                        "type": "number",
                        "format": "float",
                        "example": 4.5,
                        "nullable": true
                    },
                    "reviews_count": {
                        "type": "integer",
                        "example": 10
                    },
                    "is_online": {
                        "description": "Usuário online nos últimos 5 minutos",
                        "type": "boolean",
                        "example": true
                    },
                    "is_following": {
                        "type": "boolean",
                        "example": false
                    },
                    "is_pending": {
                        "type": "boolean",
                        "example": false
                    },
                    "is_blocked": {
                        "description": "Se o usuário autenticado bloqueou este usuário",
                        "type": "boolean",
                        "example": false
                    },
                    "last_seen_at": {
                        "description": "Visível apenas para perfis públicos, seguidores ou o próprio usuário",
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "email": {
                        "description": "Visível apenas para perfis públicos, seguidores ou o próprio usuário",
                        "type": "string",
                        "example": "hayssa@email.com"
                    },
                    "phone": {
                        "description": "Visível apenas para perfis públicos, seguidores ou o próprio usuário",
                        "type": "string",
                        "example": "(11) 99999-1234",
                        "nullable": true
                    },
                    "city": {
                        "description": "Visível apenas para perfis públicos, seguidores ou o próprio usuário",
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "São Paulo"
                            }
                        },
                        "type": "object"
                    },
                    "categories": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Category"
                        }
                    },
                    "created_at": {
                        "description": "Visível apenas para perfis públicos, seguidores ou o próprio usuário",
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Publication": {
                "title": "Publication",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "text": {
                        "type": "string",
                        "example": "Preciso de um eletricista para instalação residencial"
                    },
                    "type": {
                        "description": "0=cliente, 1=prestador",
                        "type": "integer",
                        "example": 0
                    },
                    "author": {
                        "$ref": "#/components/schemas/User"
                    },
                    "city": {
                        "properties": {
                            "id": {
                                "type": "integer",
                                "example": 1
                            },
                            "name": {
                                "type": "string",
                                "example": "São Paulo"
                            }
                        },
                        "type": "object"
                    },
                    "categories": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Category"
                        }
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "urgente",
                            "residencial"
                        ]
                    },
                    "media": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PublicationMedia"
                        }
                    },
                    "mentions": {
                        "description": "Usuários mencionados via @username no texto",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/User"
                        }
                    },
                    "comments": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Comment"
                        }
                    },
                    "likes_count": {
                        "type": "integer",
                        "example": 5
                    },
                    "comments_count": {
                        "type": "integer",
                        "example": 3
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Comment": {
                "title": "Comment",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "comment": {
                        "type": "string",
                        "example": "Ótimo serviço!"
                    },
                    "parent_id": {
                        "description": "ID do comentário pai (null = comentário raiz)",
                        "type": "integer",
                        "example": null,
                        "nullable": true
                    },
                    "author": {
                        "$ref": "#/components/schemas/User"
                    },
                    "media": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PublicationMedia"
                        }
                    },
                    "replies": {
                        "description": "Respostas ao comentário",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Comment"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "PublicationMedia": {
                "title": "PublicationMedia",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "foto-servico.jpg"
                    },
                    "mime_type": {
                        "type": "string",
                        "example": "image/jpeg"
                    },
                    "size": {
                        "description": "Tamanho em bytes",
                        "type": "integer",
                        "example": 204800
                    },
                    "url": {
                        "type": "string",
                        "example": "http://localhost/storage/1/foto-servico.jpg"
                    },
                    "thumb_url": {
                        "description": "URL do thumbnail (null para vídeos)",
                        "type": "string",
                        "example": "http://localhost/storage/1/conversions/foto-servico-thumb.jpg",
                        "nullable": true
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "image",
                            "video"
                        ],
                        "example": "image"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Collection": {
                "title": "Collection",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Salvos"
                    },
                    "is_default": {
                        "type": "boolean",
                        "example": true
                    },
                    "publications_count": {
                        "type": "integer",
                        "example": 5
                    },
                    "publications": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Publication"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Notification": {
                "title": "Notification",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "like",
                            "comment",
                            "follow",
                            "follow_request",
                            "mention",
                            "review",
                            "review_reply",
                            "comment_reply",
                            "message"
                        ],
                        "example": "like"
                    },
                    "sender": {
                        "$ref": "#/components/schemas/User"
                    },
                    "publication": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/Publication"
                            }
                        ],
                        "nullable": true,
                        "description": "Null para notificações do tipo follow"
                    },
                    "read_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Review": {
                "title": "Review",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "stars": {
                        "description": "1-5 estrelas (null em replies)",
                        "type": "integer",
                        "example": 5,
                        "nullable": true
                    },
                    "comment": {
                        "type": "string",
                        "example": "Excelente profissional!"
                    },
                    "reviewer": {
                        "$ref": "#/components/schemas/User"
                    },
                    "media": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PublicationMedia"
                        }
                    },
                    "replies": {
                        "description": "Respostas à avaliação",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Review"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Conversation": {
                "title": "Conversation",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "other_user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "latest_message": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/Message"
                            }
                        ],
                        "nullable": true
                    },
                    "unread_count": {
                        "type": "integer",
                        "example": 3
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            },
            "Message": {
                "title": "Message",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "body": {
                        "type": "string",
                        "example": "Olá, tudo bem?"
                    },
                    "sender": {
                        "$ref": "#/components/schemas/User"
                    },
                    "reply_to": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/Message"
                            }
                        ],
                        "nullable": true,
                        "description": "Mensagem sendo respondida"
                    },
                    "read_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "apiKey",
                "description": "Informe o token no formato: Bearer {token}",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Categories",
            "description": "Categories"
        },
        {
            "name": "Chat",
            "description": "Chat"
        },
        {
            "name": "Coleções",
            "description": "Coleções"
        },
        {
            "name": "Notificações",
            "description": "Notificações"
        },
        {
            "name": "Publicações",
            "description": "Publicações"
        },
        {
            "name": "Avaliações",
            "description": "Avaliações"
        },
        {
            "name": "Usuários",
            "description": "Usuários"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ]
}